---
title: Servlet
tags: servlet
---

내부망
bus형
star형
gateway에 ip값이 들어오고 192.168.0.33
브로드캐스트로 33을 찾는다
MAC 본인이 33이면 응답한다

외부
외부는 ip로 통신한다
내부망 각각 호스트에 도메인을 붙여 내부망에서만 이용 가능하다 = hosts 파일을 찾는다
없다면 domain으로 입력하면 도메인 서버(IPv4 DNS)가 알아봐준다 kt -> .com -> naver

was(wab application server)
웹 브라우저 클라이언트로부터 HTTP 요청을 받아 정적인 컨텐츠(.html .jpeg .css 등)를 제공하는 컴퓨터 프로그램
동적인 페이지를 생성할 수 있는 서버
was는 웹 서버를 포함하고 있지 않다. was 중 톰캣이 웹 서버 기능을 갖고 있다
사용자가 요청한 내용을 매핑해 찾아보니 코드 파일이므로 실행해서 준다
wab application 실행해 주는 주체가 was(실행환경)다
was를 구현하고 있는 구현체 중 하나가 tomcat

웹 서버(Web Server)
사용자 요청에 따라 다른 처리를 해줄 수 없다
동적인 처리를 해주는 웹 어플리케이션이 없다

context 사이트
http://IP:Port/context/리소스들

tomcat
server.xml Context추가

servlet 프로그램 - 메모장과 번역기
사용자가 요청한 것만 로드해서 실행
servlet 실행을 유도하는 주체는 클라이언트의 요청
servlet 실행해주는 주체 tomcat
server Application Let(조각)

servlet 생명주기
Web Browser > 요청 > Was > isLoaded? > 로드 되어있다면 응답
Web Browser > 요청 > Was > isLoaded? > 로드 되어있지 않다면 > New Instance > init() > Invoke Thread > service() > WAS > 응답
서블릿 컨테이너에 적재되어있다가 일정시간동안 사용자의 요청이 없으면 destory()

역할 기능 흐름이 있는 게 시스템

cmd
javac --class-path 
라이브러리 경로 추가

xml을 읽을 때 서블릿 객체를 담은 서블릿컨테이너에 올려둔다
<servlet>
		<servlet-name>nana</servlet-name> 이 이름을 부르면 나온다
		<servlet-class>com.newlecture.Nana</servlet-class> 객체로 만들어 준다
		<load-on-startup>1</load-on-startup> 톰캣 시작할 때 첫번째로 컨테이너에 올림
		이게 없다면 사용자가 nana를 요청할 때 메모리에 올라옴, 누군가 불러서 메모리(서블릿 컨테이너)에 있을 가능성이 높다
</servlet>
인덱스 파일 외에 다른 파일들은 요청이 들어오면 메모리에 올라오고 일정 시간이 지난 다음에 서블릿컨테이너에서 내려간다


<servlet-mapping>
		<servlet-name>nana</servlet-name>
		<url-pattern>/hello.txt</url-pattern>
</servlet-mapping>
사용자가 /hello.txt를 부르면 nana를 통해 위쪽 com.newlecture.Nana가 실행된다

메모장

import jakarta.servlet.*;
import jakarta.servlet.http.*;
import java.io.*;

public class Nana extends HttpServlet {
// tomcat은 HttpServlet을 보고 참조한다 ex) GameFrame과 Frame 처럼

// service가 main함수다

	public void service(HttpServletRequest request, HttpServletResponse response) throws IOException, ServletException {
	// Override
	
		System.out.println("hello Servlet");

	}

}
