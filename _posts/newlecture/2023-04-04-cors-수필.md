---
title: CORS
tags: 
---


서버에 데이텨 요청과 CORS 방법

```js
<script>
export default {
    data() {
        return {
            list: [{}, {}, {}],
            newList: []
        };
    },
    mounted() {
        fetch("http://localhost:8080/menus")
            .then((response) => response.json())
            .then(data => {
                this.list = data.list;
                this.newList = data.newList;
            });
    }
}
</script>
```

사용자가 서버(origin) 문서(single page)를 요청하고 그 후 데이터를 요청한다. 요청하는 origin이 같다.
문서를 요청하는 서버와 데이터를 요청하는 서버가 다를 수 있다. cross origin
현재는 다른 origin을 갖고 있는 사용자에게 데이터를 줄지 말지는 서버가 정한다
서버 허용 방법 spring에서 class, method 등 에 @CrossOrigin(origins = "http://localhost:5173/")

spring에서 - global 설정하는 방법

```java
@Bean
public WebMvcConfigurer corsConfigurer() {
	return new WebMvcConfigurer() {
		@Override
		public void addCorsMappings(CorsRegistry registry) {
			registry.addMapping("/**").allowedOrigins("http://localhost:5173/");
		}
	};
}
```

```
/* 은 루트 바로 아래만 /**은 루트 아래 아래 아래... 포함
```

[참고 링크](https://spring.io/guides/gs/rest-service-cors/#controller-method-cors-configuration)