---
title: js dom
tags: 
---

node란? 문서를 구성하는 모든 객체

주석 속성(class="")도 노드다

미리 숨겨둔 모달은 클래스 하나를 변수화해서 보였다 안보였다 하면된다. 모달을 숨겨놓으면 사용하지 않더라도 자원을 잡아먹는다.
모달을 만들어야 한다면? Vuejs 등을 사용하더라도 DOM을 써야한다.

```js
```



## 노드 선택

html에서 hello를 작성하는 것과 아래 코드로 hello를 작성하는 것은 같다.

```js
let node = document.createTextNode("hello");
document.body.append(node);
```

document 객체를 이용한 선택 - id 또는 tagName
documemt 객체를 이용할 때는 섹션이나 컴포넌트 단위를 선택할 때 유용하다

```js
let s1 = document.getElementById("s1");
let s = document.getElementsByTagName("section");
let sc = document.getElementsByClassName("section1")

console.log(s1);
console.log(s);
console.log(sc);
```

document 객체를 이용해서 선택한 컴포넌트의 하위 자식을

```js
```

아래 코드에서 first, last를 선택할 때 위 방법보다 아래 방법이 바람직하다.

```js
let s1 = document.querySelector("section");
let first = s1.querySelector("ul>li:first-child");
let last = s1.querySelector("ul>li:last-child");

let ul = s1.querySelector("ul");
let first = ul.querySelector("li:first-child");
let last = ul.querySelector("li:last-child");
```

Selecters API를 이용하면 css선택자를 사용할 수 있다

```js
let s1 = document.querySelector("#s1");
let first = s1.querySelector("li:first-child");
```

노드 삭제

```js
first.parentNode.removeChild(first); // node 인터페이스에 있는 기능
first.remove(); // Element 인터페이스에 있는 기능
```

노드 추가
아래와 같이 "c"를 추가하면 ul의 li에 감싸지지 않고 들어간다.

```js
let s1 = document.querySelector("section");

let txt = document.createTextNode("c");
let ul = s1.querySelector("ul");
ul.appendChild(txt);
```

아래와 같이 수정하면 ul의 li태그에 "c"가 들어간다

```js
let s1 = document.querySelector("section");

let ul = s1.querySelector("ul");
let li = document.createElement("li");
let txt = document.createTextNode("c");

ul.appendChild(li);
li.appendChild(txt); // appendChild() - Node 인터페이스에 정의되어 있는 기능

ul.append(li); 
li.append(txt); // append() - Element 인터페이스에 정의되어 있는 기능
```

노드 변경
last를 first 위치로 옮기는? 코드?
first는 사라지며 last로 덮어 씌어진다

```js
ul.replaceChild(last, first);
```

## 노드 조작을 위한 예제

current.nextSibling 모든 노드를 대상으로 한다. Node 인터페이스
current.nextElementSibling Element만을 대상으로 한다. Element 인터페이스 기능

up, down 버튼을 클릭하면 current li가 움직이는 기능

```js
let s1 = document.querySelector("#s1");
let ul = s1.querySelector("ul");

let btnUp = s1.querySelector(".btn-up");
let btnDown = s1.querySelector(".btn-down");

let current = ul.querySelector(".current");

btnUp.onclick = function(){
    let next = current.previousElementSibling;
    current.insertAdjacentElement("afterend", next)
}

btnDown.onclick = function(){
    let next = current.nextElementSibling;
    current.insertAdjacentElement("beforebegin", next)
}
```