---
title: Node js
tags: 
---

js는 자기만의 콘솔이 없다. 브라우저에서만 확인이 가능했었다. 이젠 콘솔(Node js)이 생겼다.

입출력 API 중 DOM만 사용가능하던 js가 node js를 통해 file socket 네트워크 등 을 이용가능하게 했다

Node js는 다운로드 받아야 한다. jdk 와 비슷

Node js의 cmd 처럼 한 줄 한 줄 실행되는 방식
(Read Eval Print Loop, Command Line Interpreter(Interface))

https://www.npmjs.com/
전 세계 개발자들이 라이브러러리를 만들어 뒀다. Java의 Maven 처럼 Js엔 npm이 있다

package.json이 Maven의 pom.xml과 같다

package.json 내용 중 dependencies 배포될때 가져감 / devDependencies 개발할 때만 사용

ES6 가 나오기전 js로 모듈을 표현하고 싶었다.
고립된 영역을 만들기. 파일을 나누면 고립을 시킬 수 있었고 각 모듈에서 export 한 것만 다른 파일에서 사용 가능했다
common JS와 AMD가 있었고 commonjs가 선택됐다
ES6가 나온뒤 ES node가 나왔다


```js
// 남이 만든 라이브러리
// 경로 - \node_modules\newlec-hello\index.js
var msg = 'Hello Javascript';
exports.hello = function () {
    console.log(msg);
};
```


```js
// 남이 만든 라이브러리 사용
// 경로 - \hello.js
const modeul = require("newlec-hello");

modeul.hello();
```

실행 결과 확인 방법 - \ 경로의 cmd에서 node hello

--

npm init vue@latest - Creating a Vue Application

npm i - package.json에 있는 라이브러리들을 다운로드 받을 수 있다.

npm run dev - 라이브서버와 같이 실행해 볼 수 있다

"script":{
    "start": "node hello"
  }
npm 패키지 명령어 npm start를 통해 node hello를 실행할 수 있다 . 위의 npm run dev도 이렇게 실행한 것

이젠 페이지를 서버에 요청하지 않고 페이지의 일부분만 가져와서 바뀐다.

--

개발 서버로 시작해야 하는 이유

로컬로 실행시키면 로컬의 권한을 넘겨받는다. 웹서버를 통해 넘겨 받게해야 브라우저 밖 권한을 쓰지 못하게 한다

웹 페이지 하나에 톰캣을 사용하긴 아까우므로 개발 서버를 활용

webpack + dev server = vite

ecma는 js의 표준버전

이후 ES6가 나왔고 브라우저가 ES6(모듈화)를 지원해 주지 않는 상황이 왔다. 

모듈화란? 나눠서 만들기

ES6를 ES5로 변환해주는 babel

webpack 여러 변환기를 거쳐 하나의 번들을 만들어 실행. 오래걸린다.

vite 지금 쓸 페이지만 함쳐서 보낸다. 개발 환경(개발 서버). 동적 변환기 vite. 변환기를 거친다

기본적으로 package.json에는 다음과 같은 명령어가 있다

  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  
  
  npm run dev 개발서버 실행
  
  npm run build - dist 폴더가 만들어지며 배포될 파일이(결과물) 만들어진다
  
vue의 option으로 template가 있어 거기에 html의 내용을 넣었지만 사람이 보기에 코드 강조도 없고 불편했다

결국 single file component로 한 파일에 html css script가 있을 것이지만 따로 만들고 변환기로 합친다

```js

import Calc from "./calc2.js"

Vue
    .createApp({
        components:{
            Calc
        },
        template:`<section>
        <h1>다양한 도구들을 만나보아요~</h1>
        <Calc/>
        <Calc/>
        </section>`
    })
    .mount("#app");


    // 여기는 App
    // Application에 들어오는 객체를 calc2.js에 따로 뒀다

    // 왜 이렇게 하는가?

    // calc가 다른 App에 포함되는 경우(부품으로 사용되는 경우) 위와 같이 사용할 수 있다
    // vue의 options API 사용

```

```js
export default {
    data() {
        let x = 30;
        let y = 50;
        let z = 0;

        return { x, y, z };
    },
    methods: {
        calcHandler(e) {
            this.z = this.x + this.y;

        },
        resetHandler(e) {
            console.log("reset");
        }
    },
    template: `<section id="calc">
        <h1>덧셈 계산기{{x}}</h1>
        <form>
            <fieldset>
                <legend>계산기 입력폼</legend>
                <div>
                    <label>x:</label>
                    <input dir="rtl" v-model.trim.number="x" @input="calcHandler">
                    <label>y:</label>
                    <input dir="rtl" v-model.trim.number="y" @input="calcHandler">
                    <span>=</span>
                    <span v-text="z"></span>
                </div>
                <hr>
                <div>
                    <input type="submit" value="초기화" @click.prevent="resetHandler">
                    <input type="submit" value="계산하기" @click.prevent="calcHandler">
                </div>
            </fieldset>
        </form>
    </section>`
}

// 이전 방식

// template은 .vue파일 변환기를 이용하여 나중에 뺄 것이다
```

.vue 파일 코드 강조 안 되고 회색 글씨만 뜰 때
볼라 설치
https://marketplace.visualstudio.com/items?itemName=Vue.volar


2가지 방법

1. node js 에 변환기를 얹어서 사용.

2. cdnjs를 통해 Vue 객체를 사용. Vue. 으로 사용. 변환기를 쓰지않고 Vue의 기능을 사용할 때
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script> 등..

cdn이란? 같은 url을 이용해 사용자가 웹 페이지를 방문할 때 같은 라이브러리를 여러번 다운로드 받지 않게 한다. 

같은 라이브러리가 아니다. 여기선 모듈화된 라이브러리를 사용한 것





