---
title: Thymeleaf
tags: java
---

th:text="메뉴"   
단순 text 메뉴가 출력된다

th:text="${menu.name}"   
모델에 추가된 menu객체의 name속성이 출력된다. menu객체의 name속성에는 getter가 있어야 한다.   
view단에서는 getter가 필요하지만 MyBatis Mapper엔 getter가 없어도 속성명이 일치하면 됐다.

th:each="menu : ${list}"   
list 배열에 있는 객체 하나하나를 menu라는 이름으로 뽑아 쓸 수 있다.

th:utext="${menu.description}"   
예를들어 menu.description의 값이 <span style="color:red;font-weight:bold;">중요</span>일 때   
텍스트 그대로 출력되는 것이 아닌 html, css속성이 적용된 채로 출력된다.

th:text="${#numbers.formatInteger(menu.price,3,'COMMA')} + '원'"   
html에 있는 "4,500원"을 th:text="${menu.price}"로 대체할 경우가 있다.   
menu.price의 값이 서식이 있는 4,500원이 아닌 4500일 경우 서식을 붙여주는 방법이다.

th:href="@{detail(id=${menu.id}, n=${menu.name})}"   
@{detail}에 쿼리스트링(id=${menu.id})을 붙인걸로 생각하자.   
?(쿼리스트링)를 쓸 경우.

th:src="'/image/menu/' + ${menu.img}"   
th:src="@{/image/menu/{img}(img=${menu.img})}"   
?를 쓰지 않을 경우. ()안에 있는 데이터가 {img}를 채운다.

th:class="(${param.c}==${c.id})? 'menu-selected'"   
3항연산자. 조건이 참이면 .menu-selected 스타일을 추가한다. 하지만 위와같이 비교하면 정확한 비교가 되지 않는다.

th:class="${#strings.equals(param.c, c.id)}? 'menu-selected'"   
정확한 비교 방법

<input type="hidden" name="c" th:value="${param.c}">   
<input type="text" name="q" th:value="${param.q}">   
두 번째 text input에 검색을 하면 이전 쿼리스트링이 날아가며 겸색한 text도 날아간다.   
c값을 저장하기 위해 보이지 않는 input으로 c를 입력한다.   
검색을 한다면 input에 입력한 텍스트가 쿼리스트링으로 전달되며 input에는 텍스트가 사라진다. value를 통해 쿼리스트링에서 q를 가져온다.

?c=1&p=   
?c=1   
결과는 같으나 첫 번째 쿼리스트링은 p에 빈 문자열이 전달된다. p를 검사해야 하므로 성능이 느려진다.

Circular View Path Error(Spring Thymeleaf view resolver Error)
https://www.baeldung.com/spring-circular-view-path-error

html에서 href로 링크를 걸어서 클릭하면 url로 전달되며 해당 url에 매핑된 RequestMapping(get, post)을 찾는다
