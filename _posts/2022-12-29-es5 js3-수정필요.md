---
title: ES5 Js3
tags: javascript
---

Link: [ES5 Js2][id]

[id]: https://ksg0000.github.io/2022/12/28/es5-js2.html

```js

// 함수 호출하는 방법 2가지

function Exam() {
    this.kor = 30;
    this.eng = 30;
    this.math = 30;
}

// 1. 일반함수
var exam = function(){};

// 2 생성자 함수 / 일부로 함수명을 대문자로 시작했다
var exam = new Exam();
// new(빈 객체를 만들고) Exam(으로 초기화해라)
console.log(exam); // Exam {kor: 30, eng: 30, math: 30}
console.log(exam.kor); // 30

function Exam() {
    this.kor = 10;
    this.eng = 20;
    this.math = 30;

    this.total = function () {
        return this.kor + this.eng + this.math;
    }
}

var exam = new Exam();
var exam1 = new Exam();
// total 함수가 2개 만들어진다

var isEquals = exam.total === exam1.total;
console.log(typeof exam.total) // function
console.log(typeof exam1.total) // function
console.log(isEquals); // false
// 같은 타입인데 false? prototype이 다르다?

// -------------------------------------------------

function Exam2() {
    this.kor = 40;
    this.eng = 50;
    this.math = 60;

    // this.total = function () {
    //     return this.kor + this.eng + this.math;
    // }
}

Exam2.prototype.total = function () {
    return this.kor + this.eng + this.math;
}

var exam3 = new Exam2();
var exam4 = new Exam2();
// total 함수가 1개 만들어진다

var isEquals = exam3.total === exam4.total;
console.log(isEquals); // true

// -------------------------------------------------

// prototype 정의할 순 없지만 한 번만들면 사용 가능
// 앞으로 생성되는 모든 Exam객체들이 examProtoType속성을 갖는다 (속성을 공유한다)

// 1
var examProtoType = {
    background: 70,
    border: 80
}

Exam.prototype = examProtoType;



var exam5 = new Exam();

console.log(exam5.background); // 70
console.log(exam5.border); // 80
// exam.background과 exam1.background은 undefined가 뜬다
// 프로토타입 만든 뒤 생성된 Exam객체들만 속성을 갖기 때문

// 2 주로 사용하는 prototype 생성 방법
Exam.prototype = {
    total: function () {
        return this.kor + this.eng + this.math;
    },
    avg: function () {
        return this.total() / 3;
    }
}

var exam6 = new Exam();

console.log(exam6.avg()); // 20
// console.log(exam5.avg()); 에러 - exam5.avg is not a function

// -------------------------------------------------

console.log(exam5.background); // 70

// 하지만 

Exam.prototype = {
    background: 70,
    border: 80
}

var exam6 = new Exam();
// console.log(exam6.avg()); 에러 - exam6.avg is not a function
// 프로토타입이 덮어쓰기 된다 단 모든 텍스트가 완벽히 같아야 한다
// ex) Exam.prototype = / Exam.prototype = 처럼 완벽히 같이 덮어쓰기

// -------------------------------------------------

var ar = [];

ar.total = function () {
    return 40;
}
// ar객체에 total추가

console.log(ar.total()); // 40

var ar1 = [];
// console.log(ar1.total()); 에러 - ar1.total is not a function
// total이 없다

Array.prototype.total = function () {
    return 40;
}
// 모든 Array타입에 total추가

ar1.constructor.prototype.avg = function () {
    console.log("나야 평균~");
}
// Array.prototype.avg와 같은 의미

var ar1 = [];
console.log(ar1.total()); // 40


console.log(ar1.constructor); // ƒ Array() { [native code] }
console.log(ar1.constructor === Array); // true
console.log(typeof Array); // function
console.log(typeof ar1); // object
console.log(typeof ar1.constructor); // function
console.log(ar1.constructor.prototype.constructor.prototype); // 모든 .prototype이 뜬다?

// 상속과 같은 느낌이 든다
// 생성자만이 prototype을 갖고있다
// 모든 객체는 자신의 생성자가 누군지 알고 있다
// -------------------------------------------------

var exam2 = Object.create(exam);
// Exam을 부모(prototype)로 갖고 있는 자식객체 생성

console.log(exam);
console.log(exam2);

```
