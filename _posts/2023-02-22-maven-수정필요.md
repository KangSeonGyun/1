---
title: Maven
tags: maven
---

### Maven이란?
프로젝트 빌드과정   
프로젝트 생성 → 라이브러리 설정 → 코드 작업 → 컴파일 or 테스트 → 패키지 생성 → 배포 or 레포팅

Maven은 프로젝트 빌드과정에서 반복되는 내용을 효율적으로 개발할 수 있게 도와주는 빌드 툴 중에 하나다.

빌드 툴은 빌드 툴은 프로젝트 생성, 라이브러리 설정만 담당한다면 Eclipse, VSCode 그리고 IntelliJ 같은 IDE는 더 많은 도구(컴파일러, 파일 탐색기, 콘솔, 편집기 등...)를 갖고 있다. Maven은 어떤 한 IDE에 종속되지 않았으므로 다양한 IDE에서 사용할 수 있다.

IDE에서 프로젝트 관리와 관련되어 포함되어 있는 전문화된 도구들   
Maven / Gradle, Ant   
git - 버전관리, 형상관리 / cvs   
JUnit - 테스트 도구

### Maven 설치

[https://maven.apache.org/download.cgi][id]

[id]: https://maven.apache.org/download.cgi

Window는 Binary zip archive - zip 파일을 받아준다.   


Maven은 콘솔 프로그램이므로 cmd에서 사용할 수 있다.

MVC Lib(리플렉션, 어노테이션)
Spring Lib(IOC)
Transaction Lib(EJB(구형) AOP)
Security(Lib Filter)
Dao(MyBatis, JPA+HB)

백엔드(SSR, API)
CSR - 뷰 (Node.js, DOM) 공부 필요

SSR은 1차 프로젝트
CSR API 2차 프로젝트

Lib를 익히기보다 개념, 내부적인 동작방식을 이해하자

Maven 홈페이지에서 설치

Maven 모든 IDE에서 사용가능한 범용 빌드도구
라이브러리 설정(라이브러리 관리와 의존성 체크)
eclipse 우습게 보면 빌드도구 / IDE - 모든 것을 다 관리한다 / 더 큰 개념 / erp같은 느낌

수동 프로젝트 생성
mvn archetype:generate -DgroupId=com.newlecture -DartifactId=javaprj -DarchetypeArtifactId=maven-archetype-quickstart

수동 컴파일
mvn compile
pom.xml이 있는 곳에서 컴파일 해야함 / target 폴더가 생긴다


mvn test

mvn package

java -cp target\javaprj-1.0-SNAPSHOT.jar com.newlecture.App
jar를 -classpath로 설정해주면서 main함수가 있는 클래스를 써줌

라이프사이클이 있다는 것은 사용자가 바꿀 수 있는 부분(phase)이 있다는 뜻
라이프사이클이란 말이 없다면 사용자가 바꿀 수 있는 게 없다는 뜻

phase: Plug-in: Goal
Plug-in은 객체로 생각
Goal 기능으로 생각 / 기능은 여러개일 수 있다

SNAPSHOT 확정되지 않은 버전?

pom.xml 내용중 
<packaging>jar</packaging> / 자바 프로젝트가 됐다
<packaging>war</packaging> / 웹 프로젝트가 됐다 / WEB-INF\web.xml 파일 추가 필요 / pom.xml에 아래코드 추가
	<build>
		<plugins>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-war-plugin</artifactId>
				<version>3.3.2</version>
			</plugin>
		</plugins>
	</build>

Spring 추가 maven repository에서 가져옴
100개의 메이븐 프로젝트가 있어도 라이브러리는 1번만 가져옴
가져온 1개의 파일이 에러나면 100개이 프로젝트가 에러남
라이브러리가 없다는 에러가 뜨면 사용자명 - m2 - repository 밑에있는 것을 지운다

<dependency>
    <groupId>org.springframework</groupId>
    <artifactId>spring-webmvc</artifactId>
    <version>6.0.5</version>
</dependency>

JRE 버전 올리기 2가지 방법
1.
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-compiler-plugin</artifactId>
				<version>3.10.1</version>
				<configuration>
					<source>1.8</source>
					<target>1.8</target>
				</configuration>
			</plugin>

2.
	pom.xml - Overview - Properties - Create...

	Name - maven.compiler.source
	Value - 1.8
	Name - maven.compiler.target
	Value - 1.8
	
	추가
	or
	pom.xml에
	
	<properties>
		<maven.compiler.source>1.8</maven.compiler.source>
		<maven.compiler.target>1.8</maven.compiler.target>
	</properties>

	후 Maven Project 우클릭 - Maven - Update Project...


빌드 패스에 톰캣 추가 후 jsp만들어서 EL쓰고 서버로 보여지는지 확인


pom.xml
-------------

```xml

<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<groupId>com.newlecture</groupId>
	<artifactId>javaprj</artifactId>
	<packaging>war</packaging>
	<version>1.0-SNAPSHOT</version>
	<name>javaprj</name>
	<url>http://maven.apache.org</url>
	<dependencies>
		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
			<version>3.8.1</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>org.springframework</groupId>
			<artifactId>spring-webmvc</artifactId>
			<version>6.0.5</version>
		</dependency>
	</dependencies>
	<build>
		<plugins>
<!--			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-compiler-plugin</artifactId>
				<version>3.10.1</version>
				<configuration>
					<source>1.8</source>
					<target>1.8</target>
				</configuration>
			</plugin>-->
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-war-plugin</artifactId>
				<version>3.3.2</version>
			</plugin>
		</plugins>
	</build>
	<properties>
		<maven.compiler.source>1.8</maven.compiler.source>
		<maven.compiler.target>1.8</maven.compiler.target>
	</properties>
</project>

```